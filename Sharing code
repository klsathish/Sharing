 public class LoggingRepository : ILoggingRepository
 {
     private readonly SFDbContext _dbContext;
     public LoggingRepository(SFDbContext dbContext)
     {
         _dbContext = dbContext;
     }

     /// <summary>
     /// To insert login activity data in ADM_UserLogin table
     /// </summary>
     /// <param name="loginActivity"></param>
     /// <returns></returns>
     public async Task AddLoginLogAsync(UserAuth user, AdmUserLoginInsert loginActivity,string sessionid)
     {
        await _dbContext.Database.ExecuteSqlRawAsync("EXEC [dbo].[SP_Insert_Update_LoginActivity] {0},{1},{2},{3},{4},{5},{6},{7},{8},{9},{10},{11},{12}", loginActivity.LoginID,user.RoleID, loginActivity.IpAddress, loginActivity.BrowserName,
            DateTime.Now,null, sessionid,loginActivity.Isonline,user.UserID,loginActivity.UserAgent,loginActivity.BrowserName,loginActivity.BrowserVersion,DateTime.Now);
     }

     /// <summary>
     /// To insert session data in ADM_UserSession table
     /// </summary>
     /// <param name="sessionActivtity"></param>
     /// <returns></returns>
     public async Task AddSessionLogAsync(AdmUserSessionInsert sessionActivtity)
     {
         await _dbContext.Database.ExecuteSqlRawAsync("EXEC [dbo].[SP_Insert_Update_UserLoginSession] {0},{1},{2},{3}", sessionActivtity.UserLoginSessionID, sessionActivtity.CreatedBy, sessionActivtity.SessionGUID, sessionActivtity.IsOnline);
             
     }

     /// <summary>
     /// To insert token data in ADM_UserToken table
     /// </summary>
     /// <param name="sessionActivtity"></param>
     /// <returns></returns>
     public async Task AddTokenLogAsync(AdmUserTokenInsert tokenActivity)
     {
         await _dbContext.Database.ExecuteSqlRawAsync("EXEC [dbo].[SP_Insert_Update_UserToken] {0},{1},{2},{3},{4}", tokenActivity.ID, tokenActivity.SessionGuid.ToString(), tokenActivity.TokenGuid.ToString(), tokenActivity.IsActive,tokenActivity.CreatedBy);
     }
 }


 public class PerormanceAPIRepository:IPerformanceAPIRepository
 {
     private readonly SFDbContext _dbContext;
     public PerormanceAPIRepository(SFDbContext dbContext)
     {
         _dbContext = dbContext;
     }

     public async Task<List<PerformanceAPIResults>> GetPerformanceLogs(DateFilter model) => await _dbContext.PerformanceAPIResults.FromSqlRaw("EXEC [dbo].[SP_GetPerformanceLog] {0},{1}",
             model.FromDate,
             model.ToDate
             ).ToListAsync();


     public async Task<string> InsertPerformanceLog(PerformanceLog performanceLog)
     {
         var response = await _dbContext.Database.ExecuteSqlRawAsync("EXEC [dbo].[SP_Insert_Update_PerformanceLog] {0},{1},{2},{3},{4},{5},{6},{7},{8},{9},{10}"
               , 0
               , performanceLog.UserID
               , performanceLog.RoleID
               , performanceLog.SessionID
               , performanceLog.ComponentName
               , performanceLog.ActionName
               , performanceLog.StartTime
               , performanceLog.EndTime
               , performanceLog.Duration
               , performanceLog.CreatedBy
               , performanceLog.CreatedOn
               );
         if (response == 0)
         {
             return SabicConstants.BadRequestMessage;
         }
         return SabicConstants.SuccessMessage;
     }

 }
