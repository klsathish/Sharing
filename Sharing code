
        public async Task<ClosingInventoryBalanceDetailChartModel> GetClosingInventoryBalanceDetailChart(ChartDataFilterReq chartDataFilterReq)
        {
            var filterRes = new ClosingInventoryBalanceDetailChartModel();
            var tempDate = string.IsNullOrEmpty(chartDataFilterReq.SelectedMonth) ? chartDataFilterReq.FromDate!.Value.ToString("MMM yyyy").ToUpper() : chartDataFilterReq.SelectedMonth;
            var (fromDate, toDate) = GetStartandEndDate(tempDate); // DEC 2023
            chartDataFilterReq.FromDate = fromDate;
            chartDataFilterReq.ToDate = toDate;
            var result = await _dashboardRepository.GetClosingInventoryBalanceDetailChart(chartDataFilterReq);

            var FGResult = result.Where(x => x.InventoryType == "Finished Goods").ToList();
            var RMResult = result.Where(x => x.InventoryType == "Raw Materials").ToList();


            if (FGResult != null || RMResult != null)
            {
                // Finished Goods
                var (FGchartData, FGgridList) = getFilteredClosingInventoryDetailList(chartDataFilterReq, FGResult, chartDataFilterReq.Metrics == 1 ? "Value" : "Volume");
                filterRes.FGClosingInventoryBalanceDetailsChart = FGgridList; // (FGgridList, chartDataFilterReq.Metrics == 1 ? "Value" : "Volume");
                filterRes.FGChartData = FGchartData;

                //Raw Materials
                var (RMchartData, RMgridList) = getFilteredClosingInventoryDetailList(chartDataFilterReq, RMResult, chartDataFilterReq.Metrics == 1 ? "Value" : "Volume");
                filterRes.RMClosingInventoryBalanceDetailsChart = RMgridList; // GetFilteredList(RMgridList, chartDataFilterReq.Metrics == 1 ? "value" : "volume");
                filterRes.RMChartData = RMchartData;

                filterRes.StatusMessage = SabicConstants.SuccessMessage;
                filterRes.StatusCode = SabicConstants.SuccessStatusCode;
            }
            else
            {
                filterRes.StatusMessage = SabicConstants.RecordNotFoundMessage;
                filterRes.StatusCode = SabicConstants.RecordNotFoundStatusCode;
            }
            return filterRes;
        }
