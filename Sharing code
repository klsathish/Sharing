 public async Task<string> ReadResponseBodyAsync(HttpResponse response)
 {
     var originalBody = response.Body;

     using var memStream = new MemoryStream();
     response.Body = memStream;
     memStream.Seek(0, SeekOrigin.Begin);
     var body = await new StreamReader(memStream).ReadToEndAsync();

     memStream.Seek(0, SeekOrigin.Begin);
     await memStream.CopyToAsync(originalBody);
     response.Body = originalBody;

     return body;


 }


  [Fact]
  public async Task ReadResponseBodyAsync_ReturnsCorrectBody()
  {
      var commonUtils = new CommonUtils();
      

      var mockResponse = new DefaultHttpContext().Response;

      var responseBody = "Sample response body";

      var memoryStream = new MemoryStream(Encoding.UTF8.GetBytes(responseBody));

      mockResponse.Body = memoryStream;

      mockResponse.Body.Seek(0, SeekOrigin.Begin);

     

      var result = await commonUtils.ReadResponseBodyAsync(mockResponse);

     

      Assert.Equal(responseBody, result);

  }
